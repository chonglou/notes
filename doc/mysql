从源码编译安装MariaDB 5.5:
tar xf mardb-*
cd mardb
mkdir build
cmake .. -LH
cmake .. -DBUILD_CONFIG=mysql_release -DCMAKE_INSTALL_PREFIX=/opt/mysql 
make 
make install


================ CENTOS 6 ==========
yum install cmake libaio-devel gperf libdbi boost-devel rpmdevtools rpm-build openssl-devel libevent-devel
cmake .. -DBUILD_CONFIG=mysql_release -DRPM=centos6
make package


centos6上cmake版本太老 需要升级到2.8:
cd cmake-2.8.12.2
./configure --prefix=/opt/cmake
make
make install
在.bashrc中添加：
CMAKE_ROOT=/opt/cmake
PATH=$CMAKE_ROOT/bin:$PATH
export CMAKE_ROOT PATH


如果实现未安装libaio-devel,即便安装后仍会报错：
aio is required on Linux, you need to install the required library
需要删除CMakeCache.txt文件


第一次启动:
chown -R mysql /usr/local/mysql/
scripts/mysql_install_db --user=mysql
/usr/local/mysql/bin/mysqld_safe --user=mysql &

==========忘记root密码处理=========
启动：mysqld_safe --skip-grant-tables &
mysql -u root mysql
mysql> UPDATE user SET password=PASSWORD("new password") WHERE user='root';
mysql> FLUSH PRIVILEGES;

==========查询数据库大小===========
SELECT
  table_schema AS 'Db Name',
    Round( Sum( data_length + index_length ) / 1024 / 1024, 3 ) AS 'Db Size (MB)',
	  Round( Sum( data_free ) / 1024 / 1024, 3 ) AS 'Free Space (MB)'
	  FROM information_schema.tables
	  GROUP BY table_schema ;
==========小内存优化==============
default-storage-engine = MyISAM
max_connections = 75
skip-bdb
skip-innodb
skip-networking
server-id = 1
key_buffer = 256K
max_allowed_packet=1M
thread_stack = 64K
table_cache = 4
sort_buffer_size = 64K
read_buffer_size = 256K
read_rnd_buffer_size = 256K
net_buffer_length = 2K
thread_stack = 64K
query_cache_limit=256K
query_cache_size = 2M 

检查参数
mysqld --verbose --help
mysqladmin variables
